<agent xmlns="http://jadex.sourceforge.net/jadex" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jadex.sourceforge.net/jadex http://jadex.sourceforge.net/jadex-0.96.xsd" name="tablero" package="rescate.tablero">

  <imports>
    <import>jadex.runtime.*</import>
    <import>jadex.planlib.*</import>
    <import>jadex.adapter.fipa.*</import>
    <import>jadex.util.*</import>

    <import>java.util.logging.*</import>
    <import>java.util.*</import>

    <import>rescate.ontologia.acciones.*</import>
    <import>rescate.ontologia.conceptos.*</import>
    <import>rescate.ontologia.predicados.*</import>
    <import>rescate.tablero.planes.*</import>
  </imports>

  <capabilities>
    <capability name="dfcap" file="jadex.planlib.DF" />
  </capabilities>

  <!-- CREENCIAS -->
  <beliefs>

    <!-- A quien le toca actuar -->
    <belief name="turno" class="int">
      <fact>0</fact>
    </belief>

    <!-- Mapa de juego -->
    <belief name="tablero" class="Tablero">
      <fact>new Tablero()</fact>
    </belief>
    
    <!-- PDI en el tablero -->
    <belief name="PDITablero" class="int">
      <fact>0</fact>
    </belief>

    <!-- PDI victimas disponibles -->
    <belief name="PDIVictima" class="int">
      <fact>10</fact>
    </belief>

    <!-- PDI falsas alarmas disponibles -->
    <belief name="PDIFalsaAlarma" class="int">
      <fact>5</fact>
    </belief>

    <!-- Fichas de danno disponibles -->
    <belief name="cubosDanno" class="int">
      <fact>24</fact>
    </belief>

    <!-- Primeros auxilios disponibles -->
    <belief name="primerosAuxilios" class="int">
      <fact>3</fact>
    </belief>

    <!-- Materias peligrosas disponibles -->
    <belief name="fichasMateriaPeligrosa" class="int">
      <fact>6</fact>
    </belief>

    <!-- Focos de calor disponibles -->
    <belief name="focosCalor" class="int">
      <fact>24</fact>
    </belief>

    <!-- Personas salvadas -->
    <belief name="salvados" class="int">
      <fact>0</fact>
    </belief>

    <!-- Personas no salvadas -->
    <belief name="victimas" class="int">
      <fact>0</fact>
    </belief>

    <!-- Fin de partida -->
    <belief name="finPartida" class="boolean">
      <fact>false</fact>
    </belief>

	  <!-- Ha terminado una ronda de turnos -->
    <belief name="finTurno" class="boolean">
      <fact>false</fact>
    </belief>

  </beliefs>

  <!-- METAS -->
  <goals>

    <!-- Registro en pÃ¡ginas amarillas -->
    <achievegoalref name="df_register">
      <concrete ref="dfcap.df_register" />
    </achievegoalref>

    <!-- Colocar PDI -->
    <performgoal name="colocarPDImeta" retry="true" retrydelay="3000" exclude="never">
        <contextcondition>
          (($beliefbase.finTurno) &amp;&amp;
          (($beliefbase.PDITablero) &lt; 3))
        </contextcondition>
    </performgoal>

  </goals>

  <!-- PLANES -->
  <plans>
  
    <!-- Abrir una puerta -->
    <plan name="abrirPuerta_plan">
      <body class="AbrirPuertaPlan" />
      <trigger>
        <messageevent ref="Request_Abrir_Puerta" />
      </trigger>
    </plan>

    <!-- Reduce en uno la potencia del fuego -->
    <plan name="apagarFuego_plan">
      <body class="ApagarFuegoPlan" />
      <trigger>
        <messageevent ref="Request_Apagar_Fuego" />
      </trigger>
    </plan>

    <!-- Asigna un rol a un jugador -->
    <plan name="asignarRol_plan">
      <body class="AsignarRolPlan" />
      <trigger>
        <messageevent ref="Request_Elegir_Rol" />
      </trigger>
    </plan>

    <!-- Atiende a un jugador herido -->
    <plan name="atender_plan">
      <body class="AtenderPlan" />
      <trigger>
        <messageevent ref="Request_Atender" />
      </trigger>
    </plan>

    <!-- Cerrar una puerta -->
    <plan name="cerrarPuerta_plan">
      <body class="CerrarPuertaPlan" />
      <trigger>
        <messageevent ref="Request_Cerrar_Puerta" />
      </trigger>
    </plan>
    
    <!-- Colocar PDI -->
    <plan name="ColocarPuntosInteres">
        <body class="ColocarPuntosInteresPlan" />
        <trigger>	
          <goal ref="colocarPDImeta"/>
        </trigger>
    </plan>

    <!-- Desplaza un vehiculo -->
    <plan name="conducirCamion_plan">
      <body class="ConducirCamionPlan" />
      <trigger>
        <messageevent ref="Request_Conducir_Camion" />
      </trigger>
    </plan>
    
    <!-- Suma un punto de danno a una pared -->
    <plan name="Dannar_Pared_plan">
      <body class="DannarParedPlan" />
      <trigger>
        <messageevent ref="Request_Derribar_Pared" />
      </trigger>
    </plan>
  
    <!-- Llama a la ambulancia para que se desplace -->
    <plan name="desplazarAmbulancia_plan">
      <body class="DesplazarAmbulanciaPlan" />
      <trigger>
        <messageevent ref="Request_Desplazar_Ambulancia" />
      </trigger>
    </plan>
    
    <!-- Eliminar una materia peligrosa -->
    <plan name="eliminarMateriaPeligrosa_plan">
      <body class="EliminarMateriaPeligrosaPlan" />
      <trigger>
        <messageevent ref="Request_Eliminar_Materia_Peligrosa" />
      </trigger>
    </plan>

    <!-- Empieza la partida creando el tablero -->
    <plan name="empezar_plan">
      <body class="EmpezarPlan" />
      <trigger>
        <!--condicion de inicio -->
      </trigger>
    </plan>

    <!-- Identifica un punto de interes -->
    <plan name="identificarPuntoDeInteres_plan">
      <body class="IdentificarPuntoDeInteresPlan" />
      <trigger>
        <messageevent ref="Request_Identificar_PDI" />
      </trigger>
    </plan>
    
    <!-- El jefe de bomberos manda a un jugador realizar una accion -->
    <plan name="mando_plan">
      <body class="MandoPlan" />
      <trigger>
        <messageevent ref="Request_Mando" />
      </trigger>
    </plan>

    <!-- El jugador se monta en un vehiculo -->
    <plan name="montarEnVehiculo_plan">
      <body class="MontarEnVehiculoPlan" />
      <trigger>
        <messageevent ref="Request_Montar_Vehiculo" />
      </trigger>
    </plan>
    
    <!-- Mueve un jugador a otra casilla -->
    <plan name="moverJugador_plan">
      <body class="MoverJugadorPlan" />
      <trigger>
        <messageevent ref="Request_Desplazar" />
      </trigger>
    </plan>

    <!-- Propaga el fuego -->
    <plan name="propagarFuego_plan">
      <body class="PropagarFuegoPlan" />
      <trigger>
        <!--condicion de inicio -->
      </trigger>
    </plan>

    <!-- Registrar a un jugador -->
    <plan name="unirJugador_plan">
      <body class="UnirJugadorPlan" />
      <trigger>
        <messageevent ref="Request_Unirse_Partida" />
      </trigger>
    </plan>
    
    <!-- Usa el cannon de agua de la ambulancia -->
    <plan name="usarCannonDeAgua_plan">
      <body class="UsarCannonDeAguaPlan" />
      <trigger>
        <messageevent ref="Request_Usar_Cannon_Agua" />
      </trigger>
    </plan>

  </plans>

  <!-- EVENTOS -->
  <events>

    <!-- Abrir puerta -->
    <messageevent name="Request_Abrir_Puerta" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AbrirPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Puerta_Abierta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>PuertaAbierta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Abrir_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AbrirPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Abrir_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AbrirPuerta.class</value>
      </parameter>
    </messageevent>

    <!-- Apagar fuego -->
    <messageevent name="Request_Apagar_Fuego" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ApagarFuego.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Fuego_Apagado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>FuegoApagado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Apagar_Fuego" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ApagarFuego.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Apagar_Fuego" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ApagarFuego.class</value>
      </parameter>
    </messageevent>

     <!-- Elegir rol -->
    <messageevent name="Request_Elegir_Rol" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ElegirRol.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Rol_Elegido" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>RolElegido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Elegir_Rol" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>RolesDisponibles.class</value>
      </parameter>
    </messageevent>

     <!-- Atender -->
    <messageevent name="Request_Atender" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AtenderHerido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Victima_Atendida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>VictimaAtendida.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Atender" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AtenderHerido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Atender" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AtenderHerido.class</value>
      </parameter>
    </messageevent>

    <!-- Cerrar puerta -->
    <messageevent name="Request_Cerrar_Puerta" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CerrarPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Puerta_Cerrada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>PuertaCerrada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Cerrar_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CerrarPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Cerrar_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CerrarPuerta.class</value>
      </parameter>
    </messageevent>

    <!-- Conducir camion -->
    <messageevent name="Request_Conducir_Camion" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ConducirCamionPlan.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Camion_Conducido" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CamionConducido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Conducir_Camion" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ConducirCamionPlan.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Conducir_Camion" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ConducirCamionPlan.class</value>
      </parameter>
    </messageevent>

    <!-- Dannar pared -->
    <messageevent name="Request_Dannar_Pared" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DannarPared.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Dannar_Pared" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ParedDannana.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Dannar_Pared" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DannarPared.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Dannar_Pared" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DannarPared.class</value>
      </parameter>
    </messageevent>

    <!-- Desplazar ambulancia -->
    <messageevent name="Request_Desplazar_Ambulancia" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DesplazarAmbulanciaPlan.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Desplazar_Ambulancia" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AmbulanciaDesplazada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Desplazar_Ambulancia" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DesplazarAmbulanciaPlan.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Desplazar_Ambulancia" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DesplazarAmbulanciaPlan.class</value>
      </parameter>
    </messageevent>

    <!-- Eliminar material peligrosa -->
    <messageevent name="Request_Eliminar_Materia_Peligrosa" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>EliminarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Eliminar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MateriaPeligrosaEliminada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Eliminar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MateriaPeligrosaEliminada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Eliminar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MateriaPeligrosaEliminada.class</value>
      </parameter>
    </messageevent>

    <!-- Identificar PDI -->
    <messageevent name="Request_Mando" direction="send" type="fipa">
    </messageevent>

    <!-- Mando -->
    <messageevent name="Request_Mando" direction="send" type="fipa">
    </messageevent>

    <!-- Montar en vehiculo -->
    <messageevent name="Request_Montar_Vehiculo" direction="send" type="fipa">
    </messageevent>

    <!-- Desplazar jugador -->
    <messageevent name="Request_Desplazar" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazar.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Desplazar" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Desplazar" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazar.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Desplazar" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazar.class</value>
      </parameter>
    </messageevent>


    <!-- Unirse partida -->
    <messageevent name="Request_Unirse_Partida" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UnirsePartida.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Inform_Jugador_Unido" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>JugadorUnido.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Refuse_Unirse_Partida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UnirsePartida.class</value>
      </parameter>
    </messageevent>

    <!-- Usar cannon de agua -->
    <messageevent name="Request_Usar_Canon" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UsarCannonAgua.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Usar_Canon" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CanonUsado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Usar_Canon" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CanonUsado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Usar_Canon" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CanonUsado.class</value>
      </parameter>
    </messageevent>

  </events>

  <!-- Propiedades -->
  <properties></properties>

  <!-- Configuracion -->
  <configurations>
    <configuration name="default">

      <goals>
        <initialgoal ref="df_register">
          <parameter ref="description">
            <value>
							SFipa.createAgentDescription(null, SFipa.createServiceDescription("tablero", "agente", "Rescate"))
						</value>
          </parameter>
        </initialgoal>
      </goals>

    </configuration>
  </configurations>
  
</agent>
