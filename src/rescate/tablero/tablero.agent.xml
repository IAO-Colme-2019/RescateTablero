<agent xmlns="http://jadex.sourceforge.net/jadex" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jadex.sourceforge.net/jadex http://jadex.sourceforge.net/jadex-0.96.xsd" name="tablero" package="rescate.tablero">

  <imports>
    <import>jadex.runtime.*</import>
    <import>jadex.planlib.*</import>
    <import>jadex.adapter.fipa.*</import>
    <import>jadex.util.*</import>

    <import>java.util.logging.*</import>
    <import>java.util.*</import>

    <import>rescate.gui.*</import>
    <import>rescate.ontologia.acciones.*</import>
    <import>rescate.ontologia.conceptos.*</import>
    <import>rescate.ontologia.predicados.*</import>
    <import>rescate.tablero.planes.*</import>
  </imports>

  <capabilities>
    <capability name="dfcap" file="jadex.planlib.DF" />
  </capabilities>

  <!-- CREENCIAS -->
  <beliefs>
    
    <!-- Vista -->
    <belief name="view" class="ViewUpdater">
      <fact>new ViewUpdater()</fact>
    </belief>

    <!-- A quien le toca actuar -->
    <belief name="turno" class="int">
      <fact>0</fact>
    </belief>

    <!-- Mapa de juego -->
    <belief name="tablero" class="Tablero">
      <fact>new Tablero()</fact>
    </belief>
    
    <!-- Numero de jugadores -->
    <belief name="numJugadores" class="int">
      <fact>0</fact>
    </belief>

    <!-- PDI en el tablero -->
    <belief name="PDITablero" class="int">
      <fact>0</fact>
    </belief>

    <!-- PDI victimas disponibles -->
    <belief name="PDIVictima" class="int">
      <fact>10</fact>
    </belief>

    <!-- PDI falsas alarmas disponibles -->
    <belief name="PDIFalsaAlarma" class="int">
      <fact>5</fact>
    </belief>

    <!-- Fichas de danno disponibles -->
    <belief name="cubosDanno" class="int">
      <fact>24</fact>
    </belief>

    <!-- Primeros auxilios disponibles -->
    <belief name="primerosAuxilios" class="int">
      <fact>3</fact>
    </belief>

    <!-- Focos de calor disponibles -->
    <belief name="focosCalor" class="int">
      <fact>36</fact>
    </belief>

    <!-- Personas salvadas -->
    <belief name="salvados" class="int">
      <fact>0</fact>
    </belief>

    <!-- Personas no salvadas -->
    <belief name="victimas" class="int">
      <fact>0</fact>
    </belief>

    <!-- Jugando -->
    <belief name="jugando" class="boolean">
      <fact>true</fact>
    </belief>

	  <!-- Ha terminado una ronda de turnos -->
    <belief name="finTurno" class="boolean">
      <fact>false</fact>
    </belief>

    <!-- Se deben propagar los fuegos -->
    <belief name="propagarFuego" class="boolean">
      <fact>false</fact>
    </belief>

    <!-- Ha terminado una ronda de turnos -->
    <belief name="siguienteTurno" class="boolean">
      <fact>false</fact>
    </belief>

    <!-- Ha terminado una ronda de turnos -->
    <belief name="empezar" class="boolean">
      <fact>true</fact>
    </belief>

    <!-- Instante en el que se comienza -->
    <belief name="tiempoInicio" class="int">
      <fact> (int)(System.currentTimeMillis()/1000) </fact>
    </belief>

    <!-- Tiempo transcurrido -->
    <belief name="tiempo" class="int" updaterate="750">  
      <fact> (int)(System.currentTimeMillis()/1000) </fact>
    </belief>

  </beliefs>

  <!-- METAS -->
  <goals>
  
    <!-- Registro en páginas amarillas -->
    <achievegoalref name="df_register">
      <concrete ref="dfcap.df_register" />
    </achievegoalref>

    <!-- Objetivo finalizar partida -->
    <performgoal name="acabarPartida" retry="false">
      <creationcondition>
        $beliefbase.jugando &amp;&amp;
        (($beliefbase.victimas &gt; 3) &#124;&#124;
        ($beliefbase.salvados &gt; 6) &#124;&#124;
        ($beliefbase.cubosDanno &lt; 1))
      </creationcondition>
    </performgoal>

    <!-- Colocar PDI -->
    <performgoal name="colocarPDIMeta" retry="false">
    </performgoal>

    <!-- Objetivo para propagar el fuego -->
		<performgoal name="propagarFuegoMeta" retry="false" priority="5">
			<creationcondition>
				<!-- Que se active cuando tenga que activarse-->
        $beliefbase.jugando &amp;&amp;
				$beliefbase.propagarFuego == true
			</creationcondition>
		</performgoal>

    <!-- Objetivo para cambiar el turno -->
		<performgoal name="cambiarTurnoMeta" retry="false">
			<creationcondition>
				<!-- Que se active cuando tenga que activarse-->
        $beliefbase.jugando &amp;&amp;
				$beliefbase.siguienteTurno == true
			</creationcondition>
		</performgoal>

    <!-- Objetivo para empezar la partida -->
		<performgoal name="empezarMeta1" retry="false">
			<creationcondition>
				<!-- Que se active cuando empezar sea true y que el número de jugadores sea como minimo 2 -->
        $beliefbase.jugando &amp;&amp;
				$beliefbase.tiempo-$beliefbase.tiempoInicio &gt; 300 &amp;&amp; $beliefbase.empezar &amp;&amp; $beliefbase.numJugadores &gt; 1
			</creationcondition>
		</performgoal>

    <!-- Objetivo para empezar la partida -->
		<performgoal name="empezarMeta2" retry="false">
			<creationcondition>
				<!-- Que se active cuando empezar sea true y que el número de jugadores sea 6 -->
        $beliefbase.jugando &amp;&amp;
				$beliefbase.empezar &amp;&amp; $beliefbase.numJugadores == 6
			</creationcondition>
		</performgoal>


  </goals>

  <!-- PLANES -->
  <plans>
  
    <!-- Acabar partida -->
    <plan name="acabarPartida_plan" priority="10">
      <body class="AcabarPartidaPlan" />
      <trigger>
        <goal ref="acabarPartida"></goal>
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Abrir una puerta -->
    <plan name="abrirPuerta_plan">
      <body class="AbrirPuertaPlan" />
      <trigger>
        <messageevent ref="Request_Abrir_Puerta" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Reduce en uno la potencia del fuego -->
    <plan name="apagarFuego_plan">
      <body class="ApagarFuegoPlan" />
      <trigger>
        <messageevent ref="Request_Apagar_Fuego" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Asigna un rol a un jugador -->
    <plan name="asignarRol_plan">
      <body class="AsignarRolPlan" />
      <trigger>
        <messageevent ref="Request_Elegir_Rol" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Atiende a un jugador herido -->
    <plan name="atender_plan">
      <body class="AtenderPlan" />
      <trigger>
        <messageevent ref="Request_Atender" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Cerrar una puerta -->
    <plan name="cambiarTurno_plan">
      <body class="CambiarTurnoPlan" />
      <trigger>
        <goal ref="cambiarTurnoMeta" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Cerrar una puerta -->
    <plan name="cerrarPuerta_plan">
      <body class="CerrarPuertaPlan" />
      <trigger>
        <messageevent ref="Request_Cerrar_Puerta" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
  
    <!-- Colocar PDI -->
    <plan name="ColocarPuntosInteres">
        <body class="ColocarPuntosInteresPlan" />
        <trigger>
          <goal ref="colocarPDIMeta"/>
        </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Coger mat peligrosa -->
    <plan name="cogerMateriaPeligrosa_plan">
      <body class="CogerMateriaPeligrosaPlan" />
      <trigger>
        <messageevent ref="Request_Coger_Materia_Peligrosa" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Coger victima -->
    <plan name="cogerVictima_plan">
      <body class="CogerVictimaPlan" />
      <trigger>
        <messageevent ref="Request_Coger_Victima" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Desplaza un vehiculo -->
    <plan name="conducirCamion_plan">
      <body class="ConducirCamionPlan" />
      <trigger>
        <messageevent ref="Request_Conducir_Camion" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
    
    <!-- Suma un punto de danno a una pared -->
    <plan name="dannarPared_plan">
      <body class="DannarParedPlan" />
      <trigger>
        <messageevent ref="Request_Dannar_Pared" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Suma un punto de danno a una pared -->
    <plan name="darOrden_plan">
      <body class="DarOrdenPlan" />
      <trigger>
        <messageevent ref="Request_Dar_Orden" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
  
    <!-- Dejar mat peligrosa -->
    <plan name="dejarMateriaPeligrosa_plan">
      <body class="DejarMateriaPeligrosaPlan" />
      <trigger>
        <messageevent ref="Request_Dejar_Materia_Peligrosa" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Dejar victima -->
    <plan name="dejarVictima_plan">
      <body class="DejarVictimaPlan" />
      <trigger>
        <messageevent ref="Request_Dejar_Victima" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Mueve un jugador a otra casilla -->
    <plan name="desplazar_plan">
      <body class="DesplazarPlan" />
      <trigger>
        <messageevent ref="Request_Desplazar" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
   
    <!-- Llama a la ambulancia para que se desplace -->
    <plan name="desplazarAmbulancia_plan">
      <body class="DesplazarAmbulanciaPlan" />
      <trigger>
        <messageevent ref="Request_Desplazar_Ambulancia" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
    
    <!-- Eliminar una materia peligrosa -->
    <plan name="eliminarMateriaPeligrosa_plan">
      <body class="EliminarMateriaPeligrosaPlan" />
      <trigger>
        <messageevent ref="Request_Eliminar_Materia_Peligrosa" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Empieza la partida creando el tablero -->
    <plan name="empezar_plan">
      <body class="EmpezarPlan" />
      <trigger>
        <goal ref="empezarMeta1" />
        <goal ref="empezarMeta2" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Identifica un punto de interes -->
    <plan name="finTurno_plan">
      <body class="FinTurnoPlan" />
      <trigger>
        <messageevent ref="Request_Cambiar_Turno" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Identifica un punto de interes -->
    <plan name="identificarPuntoDeInteres_plan">
      <body class="IdentificarPuntoDeInteresPlan" />
      <trigger>
        <messageevent ref="Request_Identificar_PDI" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- El jugador se monta en un vehiculo -->
    <plan name="montarEnVehiculo_plan">
      <body class="MontarEnVehiculoPlan" />
      <trigger>
        <messageevent ref="Request_Montar_Vehiculo" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
    
    <!-- Propaga el fuego -->
    <plan name="propagarFuego_plan">
      <body class="PropagarFuegoPlan" />
      <trigger>
        <!-- Se activa cada vez que termina el plan de cambiar el turno -->
        <goal ref="propagarFuegoMeta"/>
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

    <!-- Registrar a un jugador -->
    <plan name="unirJugador_plan">
      <body class="UnirJugadorPlan" />
      <trigger>
        <messageevent ref="Request_Unirse_Partida" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>
    
    <!-- Usa el cannon de agua de la ambulancia -->
    <plan name="usarCannonDeAgua_plan">
      <body class="UsarCannonAguaPlan" />
      <trigger>
        <messageevent ref="Request_Usar_Cannon_Agua" />
      </trigger>
      <contextcondition>$beliefbase.jugando</contextcondition>
    </plan>

  </plans>

  <!-- EVENTOS -->
  <events>

    <!-- Acabar Partida -->
    <messageevent name="Inform_Partida_Acabada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ResultadoPartida.class</value>
      </parameter>
    </messageevent>

    <!-- Abrir puerta -->
    <messageevent name="Request_Abrir_Puerta" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AbrirPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Puerta_Abierta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>PuertaAbierta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Abrir_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AbrirPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Abrir_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AbrirPuerta.class</value>
      </parameter>
    </messageevent>

    <!-- Apagar fuego -->
    <messageevent name="Request_Apagar_Fuego" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ApagarFuego.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Fuego_Apagado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>FuegoApagado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Apagar_Fuego" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ApagarFuego.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Apagar_Fuego" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ApagarFuego.class</value>
      </parameter>
    </messageevent>

    <!-- Elegir rol -->
    <messageevent name="Request_Elegir_Rol" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ElegirRol.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Rol_Elegido" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>RolElegido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Elegir_Rol" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>RolesDisponibles.class</value>
      </parameter>
    </messageevent>

     <!-- Atender -->
    <messageevent name="Request_Atender" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AtenderHerido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Victima_Atendida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>VictimaAtendida.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Atender" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AtenderHerido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Atender" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AtenderHerido.class</value>
      </parameter>
    </messageevent>

    <!-- Cambiar de turno (FinTurnoPlan y CambiarTurnoPlan) -->
    <messageevent name="Request_Cambiar_Turno" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CambiarTurno.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Turno_Cambiado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>TurnoCambiado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Turno_Asignado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>TurnoAsignado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Cambiar_Turno" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CambiarTurno.class</value>
      </parameter>
    </messageevent>

    <!-- Cerrar puerta -->
    <messageevent name="Request_Cerrar_Puerta" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CerrarPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Puerta_Cerrada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>PuertaCerrada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Cerrar_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CerrarPuerta.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Cerrar_Puerta" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CerrarPuerta.class</value>
      </parameter>
    </messageevent>

    <!-- Coger materia peligrosa -->
    <messageevent name="Request_Coger_Materia_Peligrosa" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CogerMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Materia_Peligrosa_Cogida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MateriaPeligrosaCogida.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Coger_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CogerMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Coger_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CogerMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <!-- Coger victima -->
    <messageevent name="Request_Coger_Victima" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CogerVictima.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Victima_Cogida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>VictimaCogida.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Coger_Victima" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CogerVictima.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Coger_Victima" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CogerVictima.class</value>
      </parameter>
    </messageevent>

    <!-- Conducir camion -->
    <messageevent name="Request_Conducir_Camion" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ConducirCamion.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Camion_Conducido" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CamionConducido.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Conducir_Camion" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ConducirCamion.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Conducir_Camion" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ConducirCamion.class</value>
      </parameter>
    </messageevent>

    <!-- Dannar pared -->
    <messageevent name="Request_Dannar_Pared" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DannarPared.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Dannar_Pared" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>ParedDannada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Dannar_Pared" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DannarPared.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Dannar_Pared" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DannarPared.class</value>
      </parameter>
    </messageevent>

    <!-- Dar ordenes -->
    <messageevent name="Request_Dar_Orden" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DarOrden.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Orden_Completada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>OrdenCompletada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Dar_Orden" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DarOrden.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Dar_Orden" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DarOrden.class</value>
      </parameter>
    </messageevent>

    <!-- Dejar materia peligrosa -->
    <messageevent name="Request_Dejar_Materia_Peligrosa" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DejarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Materia_Peligrosa_Dejada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MateriaPeligrosaDejada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Dejar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DejarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Dejar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DejarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <!-- Dejar victima -->
    <messageevent name="Request_Dejar_Victima" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DejarVictima.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Victima_Dejada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>VictimaDejada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Dejar_Victima" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DejarVictima.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Dejar_Victima" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DejarVictima.class</value>
      </parameter>
    </messageevent>


    <!-- Desplazar jugador -->
    <messageevent name="Request_Desplazar" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazar.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Desplazado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Desplazar" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazar.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Desplazar" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>Desplazar.class</value>
      </parameter>
    </messageevent>


    <!-- Desplazar ambulancia -->
    <messageevent name="Request_Desplazar_Ambulancia" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DesplazarAmbulancia.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Ambulancia_Desplazada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AmbulanciaDesplazada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Desplazar_Ambulancia" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>DesplazarAmbulancia.class</value>
      </parameter>
    </messageevent>

    <!-- Eliminar materia peligrosa -->
    <messageevent name="Request_Eliminar_Materia_Peligrosa" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>EliminarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Materia_Peligrosa_Eliminada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MateriaPeligrosaEliminada.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Eliminar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>EliminarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Eliminar_Materia_Peligrosa" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>EliminarMateriaPeligrosa.class</value>
      </parameter>
    </messageevent>

    <!-- Identificar PDI -->
    <messageevent name="Request_Identificar_PDI" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>IdentificarPuntoInteres.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_PDI_Identificado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>PuntoInteresIdentificado.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Identificar_PDI" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>IdentificarPuntoInteres.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Identificar_PDI" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>IdentificarPuntoInteres.class</value>
      </parameter>
    </messageevent>

    <!-- Montar en vehiculo -->
    <messageevent name="Request_Montar_Vehiculo" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MontarVehiculo.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Inform_Montado_Vehiculo" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MontadoVehiculo.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Refuse_Montar_Vehiculo" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MontarVehiculo.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Montar_Vehiculo" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>MontarVehiculo.class</value>
      </parameter>
    </messageevent>

    <!-- Unirse partida -->
    <messageevent name="Request_Unirse_Partida" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UnirsePartida.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Inform_Jugador_Unido" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>JugadorUnido.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Refuse_Unirse_Partida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UnirsePartida.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Unirse_Partida" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UnirsePartida.class</value>
      </parameter>
    </messageevent>

    <!-- Usar cannon de agua -->
    <messageevent name="Request_Usar_Cannon_Agua" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UsarCannonAgua.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Inform_Cannon_De_Agua_Usado" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>CannonDeAguaUsado.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Refuse_Usar_Cannon_De_Agua" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REFUSE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UsarCannonAgua.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Failure_Usar_Cannon_De_Agua" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.FAILURE</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>UsarCannonAgua.class</value>
      </parameter>
    </messageevent>

    <messageevent name="Request_Aceptar_Tirada" direction="send" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.REQUEST</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="conversation-id" class="String">
				<value>SFipa.createUniqueId($scope.getAgentName())</value>
			</parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AceptarTirada.class</value>
      </parameter>
    </messageevent>
    
    <messageevent name="Inform_Aceptar_Tirada" direction="receive" type="fipa">
      <parameter name="performative" class="String" direction="fixed">
        <value>SFipa.INFORM</value>
      </parameter>
      <parameter name="language" class="String" direction="fixed">
        <value>SFipa.NUGGETS_XML</value>
      </parameter>
      <parameter name="content-class" class="Class" direction="fixed">
        <value>AceptarTirada.class</value>
      </parameter>
    </messageevent>

  </events>

  <!-- Propiedades -->
  <properties></properties>

  <!-- Configuracion -->
  <configurations>
    <configuration name="default">

      <goals>
        <initialgoal ref="df_register">
          <parameter ref="description">
            <value>
							SFipa.createAgentDescription(null, SFipa.createServiceDescription("tablero", "agente", "Rescate"))
						</value>
          </parameter>
        </initialgoal>
      </goals>

    </configuration>
  </configurations>
  
</agent>
